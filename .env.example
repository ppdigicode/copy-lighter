# ========================================
# Lighter Copy Trading Bot Configuration
# ========================================

# === Network Configuration ===
LIGHTER_BASE_URL=https://mainnet.zklighter.elliot.ai
LIGHTER_WS_URL=wss://mainnet.zklighter.elliot.ai/stream

# === Target Account to Copy ===
# The Lighter account index you want to copy trades from
TARGET_ACCOUNT_INDEX=

# === Your Account Configuration ===
# Your Lighter API private key (from your API key generation)
# This is the ONLY key you need for trading!
API_PRIVATE_KEY=

# Your Lighter API key index (usually 3 or higher, 0-2 are reserved)
API_KEY_INDEX=

# Your Lighter account index
OUR_ACCOUNT_INDEX=

# Note: ETH_PRIVATE_KEY is NOT needed for trading, only for changing API keys
# If you need to change your API keys, refer to the system_setup.py example

# === Trading Parameters ===
# Percentage of target's trade size to copy (e.g., 5 = copy 5% of their size)
COPY_PERCENTAGE=7

# Maximum position size in USD per market
MAX_POSITION_SIZE_USD=10000

# Minimum position size in USD per market
MIN_POSITION_SIZE_USD=10

# Maximum number of open positions allowed at once
MAX_OPEN_POSITIONS=400

# Slippage tolerance percentage for orders
SLIPPAGE_TOLERANCE_PCT=0.4

# === Coin Filtering ===
# Coin filter mode: "ALL" or "ENABLED"
# ALL = copy all markets
# ENABLED = only copy markets listed in ENABLED_COINS
COIN_FILTER_MODE=ALL

# Comma-separated list of allowed coin symbols (only used if COIN_FILTER_MODE=ENABLED)
# Example: ENABLED_COINS=ETH,BTC,SOL
ENABLED_COINS=

# === Safety Features ===
# Enable dry run mode (no real orders placed)
# Set to "false" to enable live trading
DRY_RUN=false

# Automatically flatten all positions after X seconds of WS disconnection
# Leave empty to disable this safety feature
SAFETY_FLATTEN_AFTER_SEC=60

# Delay in seconds before attempting to reconnect after WS error
RECONNECT_DELAY_SEC=2.0

# === Fill Coalescing ===
# Window in milliseconds to aggregate fills of the same market/direction
COALESCE_WINDOW_MS=100

# How often (in ms) to check for fills ready to flush
COALESCE_FLUSH_INTERVAL_MS=25

# === Advanced Settings ===
# Maximum fills in queue before dropping (prevents memory overflow)
FILL_QUEUE_MAX=5000

# Number of worker threads for processing fills
ORDER_WORKERS=24

# Cooldown in seconds before syncing position after a missed fill
SYNC_ON_MISS_COOLDOWN_SEC=0.5

# Interval in seconds to sync target's actual positions from API
TARGET_STATE_SYNC_INTERVAL_SEC=2.0

# Cooldown in seconds before attempting to close orphan positions
ORPHAN_CLOSE_COOLDOWN_SEC=1.0
